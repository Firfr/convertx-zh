# 本地调试命令记录

当前项目翻译得到不是原码，是从docker镜像里面提取的编译后的前端文件。

## 获取前端代码

- 删除旧的前端代码
  ```bash
  rm -rf ./public/* ./components/* ./pages/* && chmod -R 777 ./public ./components ./pages
  ```
- 拉取镜像
  ```bash
  docker pull c4illin/convertx:v0.14.1
  ```
- 运行命令
  ```bash
  docker run --rm \
    --name convertx \
    -v ./components:/components \
    -v ./pages:/pages \
    -v ./public:/public \
    --entrypoint sh \
    c4illin/convertx:v0.14.1 \
    -c '
      cp -rf /app/src/components/* /components/ &&
      cp -rf /app/src/pages/* /pages/ &&
      cp -rf /app/public/* /public/ &&
      echo "✅ 文件已复制并覆盖，容器即将退出"
    '
  ```

## 翻译调试

```bash
docker run -itd \
  --name convertx \
  -e JWT_SECRET=c4illin_convertx \
  -e HTTP_ALLOWED=true \
  -e LANGUAGE=zh \
  -e ACCOUNT_REGISTRATION=true \
  -v ./components:/app/src/components \
  -v ./pages:/app/src/pages \
  -v ./public:/app/public \
  -v ./data:/app/data \
  -p 1234:3000 \
  c4illin/convertx:v0.14.1
```

```bash
docker rm -f convertx
```

## 构建镜像测试
```bash
docker run -dit \
--restart=no \
--name convertx \
-e JWT_SECRET=c4illin_convertx \
-e HTTP_ALLOWED=true \
-e LANGUAGE=zh \
-e ACCOUNT_REGISTRATION=true \
-p 1234:3000 \
-v ./data:/app/data \
firfe/convertx-zh:0.14.1
```

